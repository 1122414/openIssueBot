# OpenIssueBot 环境变量配置
# 基于 .env.example 创建

# ================================
# GitHub API 配置
# ================================
# GitHub Personal Access Token (必需)
GITHUB_TOKEN=your_github_token_here

# 目标GitHub仓库 (必需)
GITHUB_REPO=facebook/react

# GitHub API基础URL
GITHUB_API_BASE_URL=https://api.github.com

# API请求超时时间 (秒)
GITHUB_API_TIMEOUT=30

# API请求重试次数
GITHUB_API_RETRIES=3

# ================================
# OpenAI API 配置 (可选)
# ================================
# OpenAI API密钥
OPENAI_API_KEY=your_openai_api_key_here

# OpenAI模型名称
OPENAI_MODEL=gpt-3.5-turbo

# OpenAI API基础URL
OPENAI_API_BASE=https://api.openai.com/v1

# OpenAI请求超时时间 (秒)
OPENAI_TIMEOUT=60

# OpenAI最大tokens数
OPENAI_MAX_TOKENS=1000

# OpenAI温度参数 (0.0-2.0)
OPENAI_TEMPERATURE=0.7

# ================================
# 本地Embedding模型配置
# ================================
# 是否使用OpenAI的embedding服务
USE_OPENAI_EMBEDDING=false

# 本地embedding模型名称
LOCAL_EMBEDDING_MODEL=paraphrase-MiniLM-L6-v2

# 模型缓存目录
MODEL_CACHE_DIR=./models

# ================================
# FAISS索引配置
# ================================
# FAISS索引文件路径
FAISS_INDEX_PATH=./data/faiss_index

# FAISS索引类型
FAISS_INDEX_TYPE=flat

# IVF索引的聚类数量
FAISS_IVF_NLIST=100

# HNSW索引的连接数
FAISS_HNSW_M=16

# HNSW索引的构建时搜索深度
FAISS_HNSW_EF_CONSTRUCTION=200

# 搜索时的候选数量
FAISS_SEARCH_EF=100

# ================================
# 缓存配置
# ================================
# 缓存目录
CACHE_DIR=./data/cache

# GitHub API缓存过期时间 (小时)
GITHUB_CACHE_EXPIRY=24

# embedding缓存过期时间 (小时)
EMBEDDING_CACHE_EXPIRY=168

# 搜索结果缓存过期时间 (分钟)
SEARCH_CACHE_EXPIRY=60

# 最大缓存文件大小 (MB)
MAX_CACHE_SIZE=1000

# ================================
# Flask Web服务配置
# ================================
# Flask服务器主机地址
FLASK_HOST=127.0.0.1

# Flask服务器端口
FLASK_PORT=5000

# Flask调试模式
FLASK_DEBUG=true

# Flask密钥 (用于session加密)
FLASK_SECRET_KEY=openissuebot-dev-secret-key-2024

# 跨域资源共享 (CORS) 配置
FLASK_CORS_ORIGINS=*

# 请求体最大大小 (MB)
FLASK_MAX_CONTENT_LENGTH=16

# ================================
# 搜索配置
# ================================
# 默认搜索类型
DEFAULT_SEARCH_TYPE=vector

# 默认最大搜索结果数
DEFAULT_MAX_RESULTS=5

# 默认相似度阈值 (0.0-1.0)
DEFAULT_SIMILARITY_THRESHOLD=0.3

# 是否默认启用LLM分析
DEFAULT_INCLUDE_LLM_ANALYSIS=false

# 搜索结果排序方式
SEARCH_SORT_BY=similarity

# 搜索结果排序顺序
SEARCH_SORT_ORDER=desc

# ================================
# 数据处理配置
# ================================
# 批处理大小
BATCH_SIZE=100

# 最大文本长度 (字符)
MAX_TEXT_LENGTH=10000

# 文本截断策略
TEXT_TRUNCATION_STRATEGY=truncate

# 并发处理线程数
MAX_WORKERS=4

# 内存使用限制 (MB)
MAX_MEMORY_USAGE=2048

# ================================
# 日志配置
# ================================
# 日志级别
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=./openissuebot.log

# 日志文件最大大小 (MB)
LOG_MAX_SIZE=100

# 日志文件备份数量
LOG_BACKUP_COUNT=5

# 日志格式
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# 是否启用控制台日志
LOG_TO_CONSOLE=true

# 是否启用文件日志
LOG_TO_FILE=true

# ================================
# 性能监控配置
# ================================
# 是否启用性能监控
ENABLE_MONITORING=true

# 监控数据保留天数
MONITORING_RETENTION_DAYS=30

# 慢查询阈值 (秒)
SLOW_QUERY_THRESHOLD=5.0

# 内存使用警告阈值 (百分比)
MEMORY_WARNING_THRESHOLD=80

# ================================
# 安全配置
# ================================
# API访问限制 (每分钟请求数)
RATE_LIMIT_PER_MINUTE=60

# 是否启用API密钥验证
ENABLE_API_KEY_AUTH=false

# API密钥 (如果启用API密钥验证)
API_KEY=your_api_key_here

# 允许的IP地址列表 (逗号分隔)
ALLOWED_IPS=127.0.0.1,::1

# ================================
# 开发和调试配置
# ================================
# 是否启用开发模式
DEVELOPMENT_MODE=true

# 是否启用详细错误信息
VERBOSE_ERRORS=true

# 是否启用SQL查询日志
LOG_SQL_QUERIES=false

# 是否启用性能分析
ENABLE_PROFILING=false

# ================================
# 实验性功能配置
# ================================
# 是否启用实验性功能
ENABLE_EXPERIMENTAL_FEATURES=false

# 是否启用GPU加速 (需要CUDA支持)
ENABLE_GPU_ACCELERATION=false

# 是否启用分布式搜索
ENABLE_DISTRIBUTED_SEARCH=false

# 是否启用自动索引更新
ENABLE_AUTO_INDEX_UPDATE=true

# 自动索引更新间隔 (小时)
AUTO_INDEX_UPDATE_INTERVAL=24